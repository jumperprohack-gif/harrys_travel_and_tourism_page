<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Travel And Tourism Full Version</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
:root{
  --bg: rgba(0,0,0,0.85);
  --text: #ffffff;
  --accent: #4fc3f7;
  --font: 16px;
}
body{
  margin:0;
  font-family:Arial, sans-serif;
  color:var(--text);
  font-size:var(--font);
  background:url("travel_the_world.jpg") no-repeat center center fixed;
  background-size:cover;
}
.high-contrast{
  --bg:#000;
  --text:#ffff00;
  --accent:#00ffff;
}
.large-text{
  --font:20px;
}
#siteTitle{
  position:fixed;
  top:15px;
  left:20px;
  font-size:46px;
  font-weight:bold;
  text-shadow:3px 3px 8px black;
  z-index:1000;
}
section{
  max-width:1000px;
  margin:120px auto;
  padding:20px;
  background:var(--bg);
  border-radius:12px;
}
button,select,input{
  padding:10px;
  margin:6px;
  border-radius:6px;
  border:none;
}
button{
  background:var(--accent);
  cursor:pointer;
}
table{
  width:100%;
  border-collapse:collapse;
}
th,td{
  border:1px solid #555;
  padding:8px;
  text-align:center;
}
#secretBtn{
  position:fixed;
  bottom:0;
  right:0;
  width:50px;
  height:50px;
  opacity:0;
  cursor:pointer;
}
.card{
  width:80px;
  height:80px;
  display:inline-block;
  margin:5px;
  background:#fff;
  color:#000;
  font-weight:bold;
  line-height:80px;
  text-align:center;
  cursor:pointer;
  border-radius:8px;
}
.matched{
  background:limegreen;
  color:#fff;
}
</style>
</head>
<body>
<div id="siteTitle">Travel And Tourism</div>

<!-- LOGIN -->
<section id="login">
  <h2>ğŸ” Access Required</h2>
  <input type="password" id="loginCode" placeholder="Enter code">
  <button onclick="checkLogin()">Enter</button>
  <p>Or <button onclick="showTeacherLogin()">Teacher Login</button></p>
</section>

<!-- TEACHER LOGIN -->
<section id="teacherLogin" style="display:none">
  <h2>ğŸ‘©â€ğŸ« Teacher Login</h2>
  <input type="password" id="teacherCodeInput" placeholder="Teacher code">
  <button onclick="checkTeacher()">Login</button>
  <button onclick="backToLogin()">Back</button>
</section>

<!-- HOME -->
<section id="home" style="display:none">
  <h2>Welcome</h2>
  <select id="difficulty">
    <option value="">Select Difficulty</option>
    <option value="easy">Easy</option>
    <option value="medium">Medium</option>
    <option value="hard">Hard</option>
  </select><br>
  <button onclick="showPlanner()">ğŸ§³ Trip Planner</button>
  <button onclick="showGuess()">ğŸ§­ Guess the Destination</button>
  <button onclick="showQuiz()">â“ Travel Quiz Game</button>
  <button onclick="showMemory()">ğŸƒ Memory Card Game</button><br><br>
  <button onclick="toggleContrast()">High Contrast</button>
  <button onclick="toggleText()">Large Text</button>
  <button onclick="logout()">Logout</button>
</section>

<!-- TRIP PLANNER -->
<section id="planner" style="display:none">
  <h2>ğŸ§³ Trip Planner</h2>
  <p id="budgetText">Budget: Â£2000</p>
  <p>Name: <input id="plannerName" placeholder="Your Name"></p>
  <p>Class: <input id="plannerClass" placeholder="Your Class"></p>
  <select id="destinationSelect" onchange="updatePlannerCost()">
    <option value="0">Destination</option>
    <option value="500">Paris</option>
    <option value="700">New York</option>
    <option value="400">Barcelona</option>
    <option value="600">Dubai</option>
  </select>
  <select id="transportSelect" onchange="updatePlannerCost()">
    <option value="0">Transport</option>
    <option value="150">Coach</option>
    <option value="300">Plane</option>
    <option value="500">Plane (Premium)</option>
  </select>
  <select id="accommodationSelect" onchange="updatePlannerCost()">
    <option value="0">Accommodation</option>
    <option value="400">Hostel</option>
    <option value="500">Apartment</option>
    <option value="600">Hotel</option>
  </select>
  <select id="foodSelect" onchange="updatePlannerCost()">
    <option value="0">Food</option>
    <option value="50">Budget Meals</option>
    <option value="100">Normal Meals</option>
    <option value="200">Luxury Meals</option>
  </select>
  <select id="activitySelect" multiple onchange="updatePlannerCost()">
    <option value="0">Activities</option>
    <option value="50">Museum</option>
    <option value="100">City Tour</option>
    <option value="150">Theme Park</option>
    <option value="200">Luxury Experience</option>
  </select>
  <p id="plannerResult"></p>
  <button onclick="finishPlanner()">Finish Trip</button>
  <button onclick="backHome()">Back</button>
  <button onclick="logout()">Logout</button>
</section>

<!-- GUESS GAME -->
<section id="guessGame" style="display:none">
  <h2>ğŸ§­ Guess the Destination</h2>
  <p id="roundText"></p>
  <ul id="clues"></ul>
  <select id="guess"></select><br>
  <button onclick="submitGuess()">Submit</button>
  <button onclick="logout()">Logout</button>
</section>

<!-- QUIZ GAME -->
<section id="quizGame" style="display:none">
  <h2>â“ Travel Quiz Game</h2>
  <p id="quizQuestion"></p>
  <div id="quizOptions"></div>
  <button onclick="submitQuiz()">Submit Answer</button>
  <button onclick="backHome()">Back</button>
  <button onclick="logout()">Logout</button>
</section>

<!-- MEMORY GAME -->
<section id="memoryGame" style="display:none">
  <h2>ğŸƒ Memory Card Game</h2>
  <div id="memoryBoard"></div>
  <p>Matches: <span id="memoryMatches">0</span></p>
  <button onclick="backHome()">Back</button>
  <button onclick="logout()">Logout</button>
</section>

<!-- TEACHER SUITE -->
<section id="teacherSuite" style="display:none">
  <h2>ğŸ‘©â€ğŸ« Teacher Score Table</h2>
  <table>
    <thead>
      <tr><th>Name</th><th>Class</th><th>Score</th><th>Difficulty/Game</th><th>Date</th><th>Time(s)</th></tr>
    </thead>
    <tbody id="teacherTable"></tbody>
  </table>
  <canvas id="scoreChart" width="400" height="200"></canvas>
  <canvas id="plannerChart" width="400" height="200"></canvas>
  <canvas id="quizChart" width="400" height="200"></canvas>
  <canvas id="memoryChart" width="400" height="200"></canvas>
  <canvas id="difficultyChart" width="400" height="200"></canvas>
  <button onclick="backToLogin()">Back</button>
  <button onclick="logout()">Logout</button>
</section>

<!-- OWNER SUITE -->
<section id="ownerSuite" style="display:none">
  <h2>ğŸ”’ Ownerâ€™s Suite</h2>
  <button onclick="showTeacherSuite()">View Teacher Table</button>
  <button onclick="clearAllData()">Clear All Data</button>
  <button onclick="logoutAll()">Logout All</button>
  <button onclick="location.reload()">Exit</button>
</section>

<div id="secretBtn" onclick="ownerAccess()"></div>

<script>
// =================== LOGIN & LOGOUT ===================
const LOGIN_CODE="SSS123";
const TEACHER_CODE="TEACH456";
const OWNER_CODE="1224";
let isLoggedIn=false;

function checkLogin(){
  if(document.getElementById("loginCode").value===LOGIN_CODE){
    isLoggedIn=true;
    login.style.display="none"; home.style.display="block";
  } else alert("Incorrect code");
}

function showTeacherLogin(){ login.style.display="none"; teacherLogin.style.display="block"; }
function checkTeacher(){ if(document.getElementById("teacherCodeInput").value===TEACHER_CODE){ teacherLogin.style.display="none"; showTeacherSuite(); } else alert("Incorrect teacher code"); }
function backToLogin(){ document.querySelectorAll("section").forEach(s=>s.style.display="none"); login.style.display="block"; }
function logout(){ document.querySelectorAll("section").forEach(s=>s.style.display="none"); login.style.display="block"; }
function logoutAll(){ localStorage.removeItem("scores"); localStorage.removeItem("plannerScores"); localStorage.removeItem("quizScores"); localStorage.removeItem("memoryScores"); location.reload(); }

// =================== STYLING ===================
function toggleContrast(){ document.body.classList.toggle("high-contrast"); }
function toggleText(){ document.body.classList.toggle("large-text"); }
function backHome(){ document.querySelectorAll("section").forEach(s=>s.style.display="none"); home.style.display="block"; }

// =================== OWNER ACCESS ===================
function ownerAccess(){ const c=prompt("Code please"); if(c===OWNER_CODE){ home.style.display="none"; ownerSuite.style.display="block"; } }
function clearAllData(){ if(confirm("Delete all scores?")){ localStorage.removeItem("scores"); localStorage.removeItem("plannerScores"); localStorage.removeItem("quizScores"); localStorage.removeItem("memoryScores"); alert("All data cleared!"); } }

// =================== PLACEHOLDER FOR GAMES ===================
// Trip Planner, Guess Game, Quiz Game, Memory Game code (from previous messages) would go here
// This includes: finishPlanner(), showGuess(), submitGuess(), showQuiz(), loadQuizQuestion(), showMemory(), flipMemoryCard(), etc.

// =================== TEACHER SUITE CHARTS ===================
function showTeacherSuite(){
  teacherSuite.style.display="block";
  teacherTable.innerHTML="";

  const guessScores = JSON.parse(localStorage.getItem("scores")||"[]");
  const plannerScores = JSON.parse(localStorage.getItem("plannerScores")||"[]");
  const quizScores = JSON.parse(localStorage.getItem("quizScores")||"[]");
  const memoryScores = JSON.parse(localStorage.getItem("memoryScores")||"[]");

  [...guessScores, ...plannerScores, ...quizScores, ...memoryScores].forEach(x=>{
    teacherTable.innerHTML+=`<tr><td>${x.n}</td><td>${x.c}</td><td>${x.s}</td><td>${x.d||x.game||'Game'}</td><td>${x.t}</td><td>${x.time||'-'}</td></tr>`;
  });

  // Guess Scores Chart
  new Chart(document.getElementById('scoreChart').getContext('2d'),{
    type:'bar',
    data:{ labels:guessScores.map(x=>x.n), datasets:[{label:'Guess Game', data:guessScores.map(x=>x.s), backgroundColor:'rgba(79,195,247,0.7)'}] }
  });
  // Planner Chart
  new Chart(document.getElementById('plannerChart').getContext('2d'),{
    type:'bar',
    data:{ labels:plannerScores.map(x=>x.n), datasets:[{label:'Trip Planner', data:plannerScores.map(x=>x.s), backgroundColor:'rgba(0,255,128,0.6)'}] }
  });
  // Quiz Chart
  new Chart(document.getElementById('quizChart').getContext('2d'),{
    type:'bar',
    data:{ labels:quizScores.map(x=>x.n), datasets:[{label:'Travel Quiz', data:quizScores.map(x=>x.s), backgroundColor:'rgba(255,165,0,0.7)'}] }
  });
  // Memory Chart
  new Chart(document.getElementById('memoryChart').getContext('2d'),{
    type:'bar',
    data:{ labels:memoryScores.map(x=>x.n), datasets:[{label:'Memory Game', data:memoryScores.map(x=>x.s), backgroundColor:'rgba(255,0,128,0.7)'}] }
  });

  // Difficulty Pie
  const allScores = [...guessScores, ...plannerScores, ...quizScores, ...memoryScores];
  const diffCounts = {easy:0, medium:0, hard:0};
  allScores.forEach(x=>{ const d=x.d||"easy"; diffCounts[d]++; });
  new Chart(document.getElementById('difficultyChart').getContext('2d'),{
    type:'pie',
    data:{ labels:['Easy','Medium','Hard'], datasets:[{data:[diffCounts.easy,diffCounts.medium,diffCounts.hard], backgroundColor:['#4fc3f7','#f7b74f','#f74f4f']}] }
  });
}
</script>
</body>
</html>
