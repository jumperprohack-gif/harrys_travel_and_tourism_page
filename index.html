<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Travel And Tourism Full Version</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
:root{
  --bg: rgba(0,0,0,0.85);
  --text: #ffffff;
  --accent: #4fc3f7;
  --font: 16px;
}

body{
  margin:0;
  font-family:Arial, sans-serif;
  color:var(--text);
  font-size:var(--font);
  background:url("travel_the_world.jpg") no-repeat center center fixed;
  background-size:cover;
}

.high-contrast{
  --bg:#000;
  --text:#ffff00;
  --accent:#00ffff;
}

.large-text{
  --font:20px;
}

#siteTitle{
  position:fixed;
  top:15px;
  left:20px;
  font-size:46px;
  font-weight:bold;
  text-shadow:3px 3px 8px black;
  z-index:1000;
}

section{
  max-width:1000px;
  margin:120px auto;
  padding:20px;
  background:var(--bg);
  border-radius:12px;
}

button,select,input{
  padding:10px;
  margin:6px;
  border-radius:6px;
  border:none;
}

button{
  background:var(--accent);
  cursor:pointer;
}

table{
  width:100%;
  border-collapse:collapse;
}
th,td{
  border:1px solid #555;
  padding:8px;
  text-align:center;
}

#secretBtn{
  position:fixed;
  bottom:0;
  right:0;
  width:50px;
  height:50px;
  opacity:0;
  cursor:pointer;
}
</style>
</head>
<body>

<div id="siteTitle">Travel And Tourism</div>

<!-- LOGIN -->
<section id="login">
  <h2>üîê Access Required</h2>
  <input type="password" id="loginCode" placeholder="Enter code">
  <button onclick="checkLogin()">Enter</button>
  <p>Or <button onclick="showTeacherLogin()">Teacher Login</button></p>
</section>

<!-- TEACHER LOGIN -->
<section id="teacherLogin" style="display:none">
  <h2>üë©‚Äçüè´ Teacher Login</h2>
  <input type="password" id="teacherCodeInput" placeholder="Teacher code">
  <button onclick="checkTeacher()">Login</button>
  <button onclick="backToLogin()">Back</button>
</section>

<!-- HOME -->
<section id="home" style="display:none">
  <h2>Welcome</h2>
  <select id="difficulty">
    <option value="">Select Difficulty</option>
    <option value="easy">Easy</option>
    <option value="medium">Medium</option>
    <option value="hard">Hard</option>
  </select><br>
  <button onclick="showPlanner()">üß≥ Trip Planner</button>
  <button onclick="showGuess()">üß≠ Guess the Destination</button><br><br>
  <button onclick="toggleContrast()">High Contrast</button>
  <button onclick="toggleText()">Large Text</button>
  <button onclick="logout()">Logout</button>
</section>

<!-- PLANNER -->
<section id="planner" style="display:none">
  <h2>üß≥ Trip Planner</h2>
  <p id="budgetText"></p>
  <p>Name: <input id="plannerName" placeholder="Your Name"></p>
  <p>Class: <input id="plannerClass" placeholder="Your Class"></p>

  <select id="destinationSelect" onchange="updatePlannerCost()">
    <option value="0">Destination</option>
    <option value="500">Paris</option>
    <option value="700">New York</option>
    <option value="400">Barcelona</option>
    <option value="600">Dubai</option>
    <option value="550">Tokyo</option>
    <option value="450">London</option>
    <option value="480">Rome</option>
    <option value="520">Sydney</option>
    <option value="500">Berlin</option>
    <option value="600">Los Angeles</option>
    <option value="430">Amsterdam</option>
    <option value="470">Bangkok</option>
    <option value="590">Singapore</option>
  </select>

  <select id="transportSelect" onchange="updatePlannerCost()">
    <option value="0">Transport</option>
    <option value="100">Bus</option>
    <option value="150">Coach</option>
    <option value="200">Train</option>
    <option value="250">Ferry</option>
    <option value="300">Plane</option>
    <option value="500">Plane (Premium)</option>
    <option value="400">Cruise</option>
    <option value="350">Private Car</option>
  </select>

  <select id="accommodationSelect" onchange="updatePlannerCost()">
    <option value="0">Accommodation</option>
    <option value="200">Camping</option>
    <option value="300">Hostel</option>
    <option value="400">Budget Hotel</option>
    <option value="500">Apartment</option>
    <option value="600">Hotel</option>
    <option value="700">Resort</option>
    <option value="800">Luxury Hotel</option>
  </select>

  <select id="foodSelect" onchange="updatePlannerCost()">
    <option value="0">Food</option>
    <option value="30">Street Food</option>
    <option value="50">Budget Meals</option>
    <option value="80">Fast Food</option>
    <option value="100">Normal Meals</option>
    <option value="150">Fine Dining</option>
    <option value="200">Luxury Meals</option>
  </select>

  <select id="activitySelect" multiple onchange="updatePlannerCost()">
    <option value="0">Activities</option>
    <option value="20">Sightseeing</option>
    <option value="40">Museum</option>
    <option value="50">City Tour</option>
    <option value="60">Beach</option>
    <option value="70">Hiking</option>
    <option value="80">Theme Park</option>
    <option value="90">Boat Tour</option>
    <option value="100">Luxury Experience</option>
    <option value="110">Nightlife</option>
    <option value="120">Shopping</option>
  </select>

  <p id="plannerResult"></p>
  <button onclick="finishPlanner()">Finish Trip</button>
  <button onclick="backHome()">Back</button>
  <button onclick="logout()">Logout</button>
</section>

<!-- GUESS GAME -->
<section id="guessGame" style="display:none">
  <h2>üß≠ Guess the Destination</h2>
  <p id="roundText"></p>
  <ul id="clues"></ul>
  <select id="guess"></select><br>
  <button onclick="submitGuess()">Submit</button>
  <button onclick="logout()">Logout</button>
</section>

<!-- END -->
<section id="end" style="display:none">
  <h2>Final Score</h2>
  <p id="scoreText"></p>
  <input id="studentName" placeholder="Name">
  <input id="studentClass" placeholder="Class">
  <button onclick="saveScore()">Save Score</button>
  <button onclick="backHome()">Back</button>
  <button onclick="logout()">Logout</button>
</section>

<!-- LEADERBOARDS -->
<section id="leaderboards" style="display:none">
  <h2>üèÜ Leaderboards</h2>
  <h3>Easy</h3><ul id="easyBoard"></ul>
  <h3>Medium</h3><ul id="mediumBoard"></ul>
  <h3>Hard</h3><ul id="hardBoard"></ul>
  <button onclick="backHome()">Home</button>
  <button onclick="logout()">Logout</button>
</section>

<!-- TEACHER SUITE -->
<section id="teacherSuite" style="display:none">
  <h2>üë©‚Äçüè´ Teacher Score Table</h2>
  <table>
    <thead>
      <tr><th>Name</th><th>Class</th><th>Score</th><th>Difficulty</th><th>Date</th><th>Time (s)</th></tr>
    </thead>
    <tbody id="teacherTable"></tbody>
  </table>
  <canvas id="scoreChart" width="400" height="200"></canvas>
  <canvas id="difficultyChart" width="400" height="200"></canvas>
  <h3>Trip Planner Scores</h3>
  <canvas id="plannerChart" width="400" height="200"></canvas>
  <button onclick="backToLogin()">Back</button>
  <button onclick="logout()">Logout</button>
</section>

<!-- OWNER SUITE -->
<section id="ownerSuite" style="display:none">
  <h2>üîí Owner‚Äôs Suite</h2>
  <button onclick="showTeacherSuite()">View Teacher Table</button>
  <button onclick="clearAllData()">Clear All Data</button>
  <button onclick="logoutAll()">Logout All</button>
  <button onclick="location.reload()">Exit</button>
</section>

<div id="secretBtn" onclick="ownerAccess()"></div>

<script>
const LOGIN_CODE="SSS123";
const TEACHER_CODE="SSSTEACHER26";
const OWNER_CODE="1224";

let score=0, round=0, maxRounds=5, clueLimit=4, points=20;
let selected=[];
let difficulty="easy";
let startTime, endTime;
let isLoggedIn=false;
let plannerBudget=0, extraFees=0;

const destinations=[
 {a:"Paris",c:["Eiffel Tower","Euro","Croissants","Spring","Romantic"]},
 {a:"Tokyo",c:["Yen","Sushi","Technology","Humid","Cherry Blossoms"]},
 {a:"Dubai",c:["Hot","Burj Khalifa","Dirham","Luxury","Desert"]},
 {a:"London",c:["Pound","Big Ben","Museums","Mild","Royal Family"]},
 {a:"New York",c:["Dollar","Statue of Liberty","Skyscrapers","Autumn","Broadway"]},
 {a:"Rome",c:["Colosseum","Pizza","Euro","Historic","Mediterranean"]},
 {a:"Sydney",c:["Opera House","AUD","Beaches","Summer","Harbour"]},
 {a:"Berlin",c:["Brandenburg Gate","Euro","Beer","History","Culture"]},
 {a:"Los Angeles",c:["Hollywood","Dollar","Beach","Sun","Movies"]},
 {a:"Amsterdam",c:["Canals","Euro","Bikes","Tulips","Windmills"]},
 {a:"Bangkok",c:["Temple","Baht","Spicy","Markets","River"]},
 {a:"Singapore",c:["Marina Bay","Dollar","Gardens","Modern","Food"]},
];

// =================== LOGIN FUNCTIONS ===================
function checkLogin(){
  const code = document.getElementById("loginCode").value;
  if(code === LOGIN_CODE){
    isLoggedIn=true;
    login.style.display="none";
    home.style.display="block";
  } else { alert("Incorrect code"); }
}
function showTeacherLogin(){ login.style.display="none"; teacherLogin.style.display="block"; }
function checkTeacher(){
  if(teacherCodeInput.value===TEACHER_CODE){ teacherLogin.style.display="none"; showTeacherSuite(); } 
  else alert("Incorrect teacher code");
}
function backToLogin(){ document.querySelectorAll("section").forEach(s=>s.style.display="none"); login.style.display="block"; }
function logout(){ isLoggedIn=false; score=0; round=0; selected=[]; document.querySelectorAll("section").forEach(s=>s.style.display="none"); login.style.display="block"; }
function logoutAll(){ if(confirm("Clear all scores and log out everyone?")){ localStorage.removeItem("scores"); localStorage.removeItem("plannerScores"); location.reload(); } }

// =================== TRIP PLANNER ===================
function showPlanner(){ home.style.display="none"; planner.style.display="block"; startPlanner(); }
function startPlanner(){ 
  plannerBudget = Math.floor(Math.random()*(5000-1500+1))+1500; 
  extraFees = Math.floor(Math.random()*200); 
  document.getElementById('budgetText').innerText = `Budget: ¬£${plannerBudget} (Extra Fees: ¬£${extraFees} may apply)`; 
  destinationSelect.value=transportSelect.value=accommodationSelect.value=foodSelect.value="0"; 
  Array.from(activitySelect.options).forEach(o=>o.selected=false);
  plannerResult.innerText = ""; 
}
function updatePlannerCost(){ 
  const dest = parseInt(destinationSelect.value)||0; 
  const transport = parseInt(transportSelect.value)||0; 
  const accommodation = parseInt(accommodationSelect.value)||0; 
  const food = parseInt(foodSelect.value)||0; 
  const activities = Array.from(activitySelect.selectedOptions).reduce((sum,opt)=>sum+parseInt(opt.value),0); 
  const totalCost = dest+transport+accommodation+food+activities+extraFees; 
  plannerResult.innerText = `Total Cost: ¬£${totalCost} (Budget: ¬£${plannerBudget})`; 
}
function finishPlanner(){ 
  const dest=parseInt(destinationSelect.value)||0; 
  const transport=parseInt(transportSelect.value)||0; 
  const accommodation=parseInt(accommodationSelect.value)||0; 
  const food=parseInt(foodSelect.value)||0; 
  const activities=Array.from(activitySelect.selectedOptions).reduce((sum,opt)=>sum+parseInt(opt.value),0); 
  let totalCost=dest+transport+accommodation+food+activities+extraFees; 
  let score=0; 
  if(dest>0) score++; 
  if(transport>0) score++; 
  if(accommodation>0) score++; 
  if(food>0) score++; 
  if(activities>0) score++; 
  if(totalCost<=plannerBudget) score++; 
  if(score>5) score=5; 
  const name=plannerName.value||"Anonymous"; 
  const studentClass=plannerClass.value||"Unknown"; 
  const plannerScores=JSON.parse(localStorage.getItem('plannerScores')||"[]"); 
  plannerScores.push({n:name,c:studentClass,s:score,max:5,t:new Date().toLocaleString()}); 
  localStorage.setItem('plannerScores',JSON.stringify(plannerScores)); 
  alert(`Trip Finished!\nTotal Cost: ¬£${totalCost}\nRemaining Budget: ¬£${plannerBudget-totalCost}\nScore: ${score}/5`); 
  backHome(); 
}
function backHome(){ document.querySelectorAll("section").forEach(s=>s.style.display="none"); home.style.display="block"; }

// =================== GUESS GAME ===================
function showGuess(){ difficulty=difficultySelect(); score=0; round=0; startTime=new Date(); selected=[...destinations].sort(()=>Math.random()-0.5).slice(0,maxRounds); home.style.display="none"; guessGame.style.display="block"; loadRound(); }
function difficultySelect(){ const d=document.getElementById("difficulty").value; if(d==="medium"){maxRounds=7;clueLimit=3;points=15;} else if(d==="hard"){maxRounds=10;clueLimit=2;points=10;} else {maxRounds=5;clueLimit=4;points=20;} return d||"easy"; }
function loadRound(){ if(round>=selected.length){ endGuessGame(); return; } roundText.innerText=`Round ${round+1}/${selected.length}`; let cluesToShow = selected[round].c.slice(0, clueLimit); if(difficulty==="medium"){ const decoys=["Food","Music","Beach","River","Mountain"]; cluesToShow=[...cluesToShow,decoys[Math.floor(Math.random()*decoys.length)]]; cluesToShow.sort(()=>Math.random()-0.5); } else if(difficulty==="hard"){ const decoys=["Sun","Moon","Car","Book","Festival"]; cluesToShow=[cluesToShow[0]||"",decoys[Math.floor(Math.random()*decoys.length)]]; cluesToShow.sort(()=>Math.random()-0.5); } clues.innerHTML=cluesToShow.map(x=>"<li>"+x+"</li>").join(""); const shuffledOptions=destinations.map(d=>d.a).sort(()=>Math.random()-0.5); guess.innerHTML="<option>Select</option>"+shuffledOptions.map(x=>`<option>${x}</option>`).join(""); }
function submitGuess(){ score+=(guess.value===selected[round].a)?points:-5; round++; loadRound(); }
function endGuessGame(){ guessGame.style.display="none"; end.style.display="block"; endTime=new Date(); const timeSpent=Math.floor((endTime-startTime)/1000); scoreText.innerText=`Score: ${score} (${difficulty}) | Time: ${timeSpent} sec`; }
function saveScore(){ const data=JSON.parse(localStorage.getItem("scores")||"[]"); const timeSpent=Math.floor((endTime-startTime)/1000); data.push({ n:studentName.value, c:studentClass.value, s:score, d:difficulty, t:new Date().toLocaleString(), time:timeSpent }); localStorage.setItem("scores",JSON.stringify(data)); showBoards(); }
function showBoards(){ end.style.display="none"; leaderboards.style.display="block"; ["easy","medium","hard"].forEach(d=>{ const list=JSON.parse(localStorage.getItem("scores")||"[]").filter(x=>x.d===d).sort((a,b)=>b.s-a.s).slice(0,5); document.getElementById(d+"Board").innerHTML=list.map(x=>`<li>${x.n} (${x.s})</li>`).join(""); }); }

// =================== TEACHER ===================
function showTeacherSuite(){ teacherSuite.style.display="block"; teacherTable.innerHTML=""; const scores=JSON.parse(localStorage.getItem("scores")||"[]"); scores.forEach(x=>{ teacherTable.innerHTML+=`<tr><td>${x.n}</td><td>${x.c}</td><td>${x.s}</td><td>${x.d}</td><td>${x.t}</td><td>${x.time||0}</td></tr>`; }); new Chart(document.getElementById('scoreChart').getContext('2d'),{ type:'bar', data:{ labels:scores.map(x=>x.n), datasets:[{ label:'Guess Game Score', data:scores.map(x=>x.s), backgroundColor:'rgba(79,195,247,0.7)' }] } }); const diffCounts={easy:0, medium:0, hard:0}; scores.forEach(x=>diffCounts[x.d]++); new Chart(document.getElementById('difficultyChart').getContext('2d'),{ type:'pie', data:{ labels:['Easy','Medium','Hard'], datasets:[{ data:[diffCounts.easy,diffCounts.medium,diffCounts.hard], backgroundColor:['#4fc3f7','#f7b74f','#f74f4f'] }] } }); const plannerScores=JSON.parse(localStorage.getItem('plannerScores')||"[]"); new Chart(document.getElementById('plannerChart').getContext('2d'),{ type:'bar', data:{ labels:plannerScores.map(x=>x.n), datasets:[{ label:'Trip Planner Score', data:plannerScores.map(x=>x.s), backgroundColor:'rgba(0,255,128,0.6)' }] } }); }

// =================== STYLING ===================
function toggleContrast(){ document.body.classList.toggle("high-contrast"); }
function toggleText(){ document.body.classList.toggle("large-text"); }

// =================== OWNER ===================
function ownerAccess(){ const c=prompt("Code please"); if(c===OWNER_CODE){ home.style.display="none"; ownerSuite.style.display="block"; } }
function clearAllData(){ if(confirm("This will permanently delete all Guess Game and Trip Planner data. Continue?")){ localStorage.removeItem("scores"); localStorage.removeItem("plannerScores"); alert("All data cleared!"); } }
</script>
</body>
</html>
