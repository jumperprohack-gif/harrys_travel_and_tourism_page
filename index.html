<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Travel And Tourism</title>

<!-- Chart.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root{
  --bg: rgba(0,0,0,0.85);
  --text: #ffffff;
  --accent: #4fc3f7;
  --font: 16px;
}

body{
  margin:0;
  font-family:Arial, sans-serif;
  color:var(--text);
  font-size:var(--font);
  background:url("travel_the_world.jpg") no-repeat center center fixed;
  background-size:cover;
}

.high-contrast{
  --bg:#000;
  --text:#ffff00;
  --accent:#00ffff;
}

.large-text{
  --font:20px;
}

#siteTitle{
  position:fixed;
  top:15px;
  left:20px;
  font-size:46px;
  font-weight:bold;
  text-shadow:3px 3px 8px black;
  z-index:1000;
}

section{
  max-width:1000px;
  margin:120px auto;
  padding:20px;
  background:var(--bg);
  border-radius:12px;
}

button,select,input{
  padding:10px;
  margin:6px;
  border-radius:6px;
  border:none;
}

button{
  background:var(--accent);
  cursor:pointer;
}

table{
  width:100%;
  border-collapse:collapse;
}
th,td{
  border:1px solid #555;
  padding:8px;
  text-align:center;
}

#secretBtn{
  position:fixed;
  bottom:0;
  right:0;
  width:50px;
  height:50px;
  opacity:0;
  cursor:pointer;
}
</style>
</head>

<body>

<div id="siteTitle">Travel And Tourism</div>

<!-- LOGIN -->
<section id="login">
  <h2>ğŸ” Access Required</h2>
  <p>Please enter the access code</p>
  <input type="password" id="loginCode" placeholder="Enter code">
  <button onclick="checkLogin()">Enter</button>
  <p>Or <button onclick="showTeacherLogin()">Teacher Login</button></p>
</section>

<!-- TEACHER LOGIN -->
<section id="teacherLogin" style="display:none">
  <h2>ğŸ‘©â€ğŸ« Teacher Login</h2>
  <input type="password" id="teacherCodeInput" placeholder="Teacher code">
  <button onclick="checkTeacher()">Login</button>
  <button onclick="backHome()">Back</button>
</section>

<!-- HOME -->
<section id="home" style="display:none">
  <h2>Welcome</h2>

  <select id="difficulty">
    <option value="">Select Difficulty</option>
    <option value="easy">Easy</option>
    <option value="medium">Medium</option>
    <option value="hard">Hard</option>
  </select><br>

  <button onclick="showPlanner()">ğŸ§³ Trip Planner</button>
  <button onclick="showGuess()">ğŸ§­ Guess the Destination</button><br><br>

  <button onclick="toggleContrast()">High Contrast</button>
  <button onclick="toggleText()">Large Text</button>
</section>

<!-- PLANNER -->
<section id="planner" style="display:none">
  <h2>ğŸ§³ Trip Planner</h2>
  <p id="budgetText">Budget: Â£2000</p>

  <select onchange="updateBudget(this.value)">
    <option value="0">Destination</option>
    <option value="500">Paris</option>
    <option value="700">New York</option>
    <option value="400">Barcelona</option>
    <option value="600">Dubai</option>
  </select>

  <select onchange="updateBudget(this.value)">
    <option value="0">Transport</option>
    <option value="300">Plane</option>
    <option value="150">Train</option>
    <option value="100">Coach</option>
  </select>

  <select onchange="updateBudget(this.value)">
    <option value="0">Accommodation</option>
    <option value="600">Hotel</option>
    <option value="400">Hostel</option>
    <option value="500">Apartment</option>
  </select>

  <p id="plannerResult"></p>
  <button onclick="finishPlanner()">Finish</button>
  <button onclick="backHome()">Back</button>
</section>

<!-- GUESS GAME -->
<section id="guessGame" style="display:none">
  <h2>ğŸ§­ Guess the Destination</h2>
  <p id="roundText"></p>
  <ul id="clues"></ul>
  <select id="guess"></select><br>
  <button onclick="submitGuess()">Submit</button>
</section>

<!-- END -->
<section id="end" style="display:none">
  <h2>Final Score</h2>
  <p id="scoreText"></p>

  <input id="studentName" placeholder="Name">
  <input id="studentClass" placeholder="Class">
  <button onclick="saveScore()">Save Score</button>
  <button onclick="backHome()">Back</button>
</section>

<!-- LEADERBOARDS -->
<section id="leaderboards" style="display:none">
  <h2>ğŸ† Leaderboards</h2>
  <h3>Easy</h3><ul id="easyBoard"></ul>
  <h3>Medium</h3><ul id="mediumBoard"></ul>
  <h3>Hard</h3><ul id="hardBoard"></ul>
  <button onclick="backHome()">Home</button>
</section>

<!-- TEACHER -->
<section id="teacherSuite" style="display:none">
  <h2>ğŸ‘©â€ğŸ« Teacher Score Table</h2>
  <table>
    <thead>
      <tr><th>Name</th><th>Class</th><th>Score</th><th>Difficulty</th><th>Date</th></tr>
    </thead>
    <tbody id="teacherTable"></tbody>
  </table>
  <canvas id="scoreChart" width="400" height="200"></canvas>
  <canvas id="difficultyChart" width="400" height="200"></canvas>
  <button onclick="backHome()">Back</button>
</section>

<!-- OWNER -->
<section id="ownerSuite" style="display:none">
  <h2>ğŸ”’ Ownerâ€™s Suite</h2>
  <button onclick="showTeacherSuite()">View Teacher Table</button>
  <button onclick="logoutAll()">Logout All</button>
  <button onclick="location.reload()">Exit</button>
</section>

<div id="secretBtn" onclick="ownerAccess()"></div>

<script>
const LOGIN_CODE="SSS123";
const TEACHER_CODE="SSSTEACHER26";
const OWNER_CODE="1224";

let score=0, round=0, maxRounds=5, clueLimit=4, points=20;
let selected=[];
let difficulty="easy";
let startTime, endTime;

const destinations=[
 {a:"Paris",c:["Eiffel Tower","Euro","Croissants","Spring","Romantic"]},
 {a:"Tokyo",c:["Yen","Sushi","Technology","Humid","Cherry Blossoms"]},
 {a:"Dubai",c:["Hot","Burj Khalifa","Dirham","Luxury","Desert"]},
 {a:"London",c:["Pound","Big Ben","Museums","Mild","Royal Family"]},
 {a:"New York",c:["Dollar","Statue of Liberty","Skyscrapers","Autumn","Broadway"]},
 {a:"Rome",c:["Colosseum","Pizza","Euro","Historic","Mediterranean"]},
 {a:"Sydney",c:["Opera House","AUD","Beaches","Summer","Harbour"]}
];

function checkLogin(){
  if(loginCode.value===LOGIN_CODE){
    login.style.display="none";
    home.style.display="block";
  } else alert("Incorrect code");
}

// Teacher login
function showTeacherLogin(){ login.style.display="none"; teacherLogin.style.display="block"; }
function checkTeacher(){
  if(teacherCodeInput.value===TEACHER_CODE){
    teacherLogin.style.display="none";
    showTeacherSuite();
  } else alert("Incorrect teacher code");
}

function backHome(){
  document.querySelectorAll("section").forEach(s=>s.style.display="none");
  home.style.display="block";
}

// PLANNER & GUESS FUNCTIONS (same as before)
function showPlanner(){ home.style.display="none"; planner.style.display="block"; }

function showGuess(){
  difficulty=difficultySelect();
  score=0; round=0;
  startTime=new Date();

  selected=[...destinations].sort(()=>Math.random()-0.5).slice(0,maxRounds);
  home.style.display="none";
  guessGame.style.display="block";
  loadRound();
}

function difficultySelect(){
  const d=document.getElementById("difficulty").value;
  if(d==="medium"){maxRounds=7;clueLimit=3;points=15;}
  else if(d==="hard"){maxRounds=10;clueLimit=2;points=10;}
  else {maxRounds=5;clueLimit=4;points=20;}
  return d||"easy";
}

function loadRound(){
  if(round>=selected.length){ endGame(); return; }
  roundText.innerText=`Round ${round+1}/${selected.length}`;
  clues.innerHTML=selected[round].c.slice(0,clueLimit).map(x=>"<li>"+x+"</li>").join("");
  guess.innerHTML="<option>Select</option>"+destinations.map(d=>`<option>${d.a}</option>`).join("");
}

function submitGuess(){
  score += (guess.value===selected[round].a) ? points : -5;
  round++; loadRound();
}

function endGame(){
  guessGame.style.display="none";
  end.style.display="block";
  endTime=new Date();
  let timeSpent = Math.floor((endTime - startTime)/1000);
  scoreText.innerText=`Score: ${score} (${difficulty}) | Time spent: ${timeSpent} sec`;
}

function saveScore(){
  const data=JSON.parse(localStorage.getItem("scores")||"[]");
  const timeSpent = Math.floor((endTime - startTime)/1000);
  data.push({
    n:studentName.value,
    c:studentClass.value,
    s:score,
    d:difficulty,
    t:new Date().toLocaleString(),
    time:timeSpent
  });
  localStorage.setItem("scores",JSON.stringify(data));
  showBoards();
}

function showBoards(){
  end.style.display="none";
  leaderboards.style.display="block";
  ["easy","medium","hard"].forEach(d=>{
    const list=JSON.parse(localStorage.getItem("scores")||"[]")
      .filter(x=>x.d===d).sort((a,b)=>b.s-a.s).slice(0,5);
    document.getElementById(d+"Board").innerHTML=list.map(x=>`<li>${x.n} (${x.s})</li>`).join("");
  });
}

// OWNER FUNCTIONS
function ownerAccess(){
  const c=prompt("Code please");
  if(c===OWNER_CODE){
    home.style.display="none";
    ownerSuite.style.display="block";
  }
}
function logoutAll(){
  if(confirm("Clear all saved scores and log out everyone?")){
    localStorage.removeItem("scores");
    location.reload();
  }
}

// TEACHER FUNCTIONS
function showTeacherSuite(){
  teacherSuite.style.display="block";
  teacherTable.innerHTML="";
  const scores=JSON.parse(localStorage.getItem("scores")||"[]");
  scores.forEach(x=>{
    teacherTable.innerHTML+=`<tr><td>${x.n}</td><td>${x.c}</td><td>${x.s}</td><td>${x.d}</td><td>${x.t}</td></tr>`;
  });

  // Score Chart (bar)
  const ctx=document.getElementById('scoreChart').getContext('2d');
  new Chart(ctx,{
    type:'bar',
    data:{
      labels:scores.map(x=>x.n),
      datasets:[{
        label:'Score',
        data:scores.map(x=>x.s),
        backgroundColor:'rgba(79,195,247,0.7)'
      }]
    }
  });

  // Difficulty Pie Chart
  const diffCounts = {easy:0, medium:0, hard:0};
  scores.forEach(x=>diffCounts[x.d]++);
  const ctx2=document.getElementById('difficultyChart').getContext('2d');
  new Chart(ctx2,{
    type:'pie',
    data:{
      labels:['Easy','Medium','Hard'],
      datasets:[{
        data:[diffCounts.easy,diffCounts.medium,diffCounts.hard],
        backgroundColor:['#4fc3f7','#f7b74f','#f74f4f']
      }]
    }
  });
}

// STYLE TOGGLES
function toggleContrast(){ document.body.classList.toggle("high-contrast"); }
function toggleText(){ document.body.classList.toggle("large-text"); }
</script>

</body>
</html>
